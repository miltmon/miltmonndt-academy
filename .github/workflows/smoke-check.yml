name: Academy Smoke Check
on:
  workflow_dispatch:

jobs:
  smoke:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run smoke script
        run: |
          chmod +x ./academy_smoke_check.sh || true
          ./academy_smoke_check.sh 2>&1 | tee smoke_output.txt || true
      - name: Upload smoke output
        uses: actions/upload-artifact@v4
        with:
          name: smoke-output
          path: smoke_output.txt
